<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>猫抓 设置</title>
    <link rel="stylesheet" type="text/css" href="css/options.css" media="all" />
    <script src="js/jquery.min.js"></script>
    <script src="js/init.js"></script>
  </head>

  <body>
    <div class="wrapper">
      <section>
        <h1 class="optionsTitle">抓取后缀</h1>
        <div class="optionBox">
          <span class="explain">填写不含"."的后缀, 不过滤大小填0</span>
          <table id="extList">
            <tr>
              <th>扩展名</th>
              <th>过滤大小</th>
              <th>启用</th>
              <th>删除</th>
            </tr>
          </table>
          <div class="button">
            <button type="button" id="AddExt">添加后缀</button
            ><button type="button" id="ResetExt" data-reset="Ext">
              重置后缀
            </button>
          </div>
        </div>
      </section>

      <section>
        <h1 class="optionsTitle">抓取类型</h1>
        <div class="optionBox">
          <span class="explain">填入正确的content-type类型, 不过滤大小填0</span>
          <table id="typeList">
            <tr>
              <th>类型</th>
              <th>过滤大小</th>
              <th>启用</th>
              <th>删除</th>
            </tr>
          </table>
          <div class="button">
            <button type="button" id="AddType">添加类型</button
            ><button type="button" id="ResetType" data-reset="Type">
              重置类型
            </button>
          </div>
        </div>
      </section>

      <section>
        <h1 class="optionsTitle">
          <img src="img/regex.png" style="width: 18px" />正则匹配
        </h1>
        <div class="optionBox">
          <span class="explain"
            >表达式标志 i: 忽略大小写, g: 全局搜索。也可为空。</span
          ><br />
          <table id="regexList">
            <tr>
              <th>标志</th>
              <th>正则表达式</th>
              <th>启用</th>
              <th>删除</th>
            </tr>
          </table>
          <div class="button">
            <button type="button" id="AddRegex">添加正则</button
            ><button type="button" id="ResetRegex" data-reset="Regex">
              重置正则
            </button>
          </div>
          <span style="font-weight: bold; font-size: 15px">正则测试</span><br />
          <span>要匹配的URL:</span><br />
          <input type="text" id="testUrl" style="width: 590px" /><br />
          <span>正则表达式:</span><br />
          <input type="text" id="testRegex" style="width: 590px" /><br />
          <span>标识符:</span><br />
          <input type="text" id="testFlag" style="width: 20px" value="ig" />
          结果: <span style="color: #ff0000" id="testResult">不匹配</span>
        </div>
      </section>

      <section>
        <h1 class="optionsTitle">其他设置</h1>
        <div class="optionBox" id="OtherOption">
          <div class="list">
            <div class="item">
              <div>模拟手机User Agent</div>
              <textarea
                id="MobileUserAgent"
                type="text"
                class="width100"
              ></textarea>
            </div>
            <div class="item">
              <div>
                <a
                  href="https://github.com/nilaoda/N_m3u8DL-CLI"
                  target="_blank"
                  >N_m3u8DL-CLI</a
                >
                参数
              </div>
              <span class="explain width100"
                >$url$ m3u8网址. $referer$ 请求头Referer. $title$ 网页标题</span
              >
              <textarea id="m3u8dlArg" type="text" class="width100"></textarea>
            </div>

            <div class="item">
              <div>自动清理幽灵数据(默认100条后自动清理)</div>
              <input id="OtherAutoClear" type="number" />
            </div>

            <div class="item">
              <div>
                调用本地<a href="https://potplayer.daum.net/" target="_blank"
                  >PotPlayer</a
                >播放器预览资源
              </div>
              <div class="switch">
                <label class="switchLabel switchRadius">
                  <input type="checkbox" id="Potplayer" class="switchInput" />
                  <span class="switchRound switchRadius"
                    ><em class="switchRoundBtn switchRadius"></em
                  ></span>
                </label>
              </div>
            </div>

            <div class="item">
              <div>调用m3u8dl://协议下载m3u8</div>
              <div class="switch">
                <label class="switchLabel switchRadius">
                  <input type="checkbox" id="m3u8dl" class="switchInput" />
                  <span class="switchRound switchRadius"
                    ><em class="switchRoundBtn switchRadius"></em
                  ></span>
                </label>
              </div>
            </div>

            <div class="item">
              <div>捕获脚本选择</div>
              <select id="injectScript">
                <option value="catch.js">Hook脚本(catch.js)</option>
                <option value="recorder.js">录制脚本(recorder.js)</option>
              </select>
            </div>

            <div class="item">
              <div>保存文件名使用网页标题</div>
              <div class="switch">
                <label class="switchLabel switchRadius">
                  <input type="checkbox" id="TitleName" class="switchInput" />
                  <span class="switchRound switchRadius"
                    ><em class="switchRoundBtn switchRadius"></em
                  ></span>
                </label>
              </div>
            </div>

            <div class="item">
              <div>显示网站图标</div>
              <div class="switch">
                <label class="switchLabel switchRadius">
                  <input type="checkbox" id="ShowWebIco" class="switchInput" />
                  <span class="switchRound switchRadius"
                    ><em class="switchRoundBtn switchRadius"></em
                  ></span>
                </label>
              </div>
            </div>

            <div class="item">
              <div>调试模式</div>
              <div class="switch">
                <label class="switchLabel switchRadius">
                  <input type="checkbox" id="Debug" class="switchInput" />
                  <span class="switchRound switchRadius"
                    ><em class="switchRoundBtn switchRadius"></em
                  ></span>
                </label>
              </div>
            </div>
          </div>
          <div class="button">
            <button type="button" id="ResetOption">重置其他设置</button>
          </div>
        </div>
      </section>

      <section>
        <h1 class="optionsTitle">操作</h1>
        <div class="optionBox">
          <div class="button" style="justify-content: center">
            <input id="importOptionsFile" type="file" class="hide" />
            <button type="button" id="exportOptions">导出设置</button>
            <button type="button" id="importOptions">导入配置</button>
            <button type="button" id="ClearData">清空抓取的数据</button>
            <button type="button" id="ResetAllOption">重置所有设置</button>
          </div>
        </div>
      </section>

      <section>
        <h1 class="optionsTitle">关于</h1>
        <div class="optionBox">
          <div class="item">
            <div id="version"></div>
          </div>
          <div class="item">
            文档说明:
            <a href="https://o2bmm.gitbook.io/cat-catch/" target="_blank">
              https://o2bmm.gitbook.io/cat-catch/</a
            >
          </div>
          <div class="item">
            Github:
            <a href="https://github.com/xifangczy/cat-catch" target="_blank">
              https://github.com/xifangczy/cat-catch</a
            >
          </div>
        </div>
      </section>
    </div>

    <script src="js/options.js"></script>
  </body>
</html>
